{{#if dropdown}}
  {{flexberry-dropdown
    placeholder=placeholder
    class=(concat "search " dropdownClass)
    value=displayValue
    readonly=(if readonly "readonly")
    needChecksOnValue=false
    isSearch=true
    isSearchReadOnly=dropdownIsSearch
  }}
{{else}}
  <div class="ui fluid action input {{if readonly "disabled"}}">
    {{#if hasBlock}}
      <div
        {{action "choose" chooseData}}
        class="ui transparent {{if (or readonly isBlocked) " disabled"}} {{if (or modalIsBeforeToShow modalIsStartToShow) " loading"}} icon input ">
        <span class="lookup-field">
          {{#if value}}
            {{yield}}
          {{else}}
            {{placeholder}}
          {{/if}}
        </span>
      </div>
    {{else}}
      {{input
        type="text"
        class=(concat "lookup-field " (if autocomplete "prompt"))
        placeholder=placeholder
        value=displayValue
        focusOut=(action "onInputFocusOut")
        readonly=(if (or readonly (not autocomplete)) "readonly")
      }}
    {{/if}}
    {{#if showPreviewButton }}
      {{#if (and previewFormRoute value)}}
        <button
          class="ui ui-preview {{if isBlocked " disabled"}} {{previewButtonClass}} button"
          title={{t "components.flexberry-lookup.preview-button-text"}}
          type="button"
          {{action "preview"}}>
          {{{previewText}}}
        </button>
      {{/if}}
    {{/if}}
    <button
      class="ui ui-change {{if (or readonly isBlocked) " disabled"}} {{chooseButtonClass}} {{if (or modalIsBeforeToShow modalIsStartToShow) " loading"}} button"
      title={{t "components.flexberry-lookup.choose-button-text"}}
      type="button"
      {{action "choose" chooseData}}>
      {{{chooseText}}}
    </button>
    <button
      class="ui ui-clear {{if (or readonly isBlocked) " disabled"}} {{removeButtonClass}} button"
      title={{t "components.flexberry-lookup.remove-button-text"}}
      type="button"
      {{action "remove" removeData}}>
      {{{removeText}}}
    </button>
  </div>
{{/if}}
{{#unless hasBlock}}
  {{#if autocomplete}}
    <div class="results"></div>
  {{/if}}
{{/unless}}
