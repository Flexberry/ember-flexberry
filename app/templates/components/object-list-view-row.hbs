<tr class="{{record.rowConfig.customClass}}">
  <td class="object-list-view-helper-column {{unless showHelperColumn "hidden"}}">
    <div class="hidden">{{record.key}}</div>
    {{#if showHelperColumn}}
      <div class="object-list-view-helper-column-cell">
        {{#if showAsteriskInRow}}
          <div class="cell">
            <i class="asterisk small red icon {{unless record.data.hasDirtyAttributes "transparent"}}"></i>
          </div>
        {{/if}}
        {{#if showCheckBoxInRow}}
          <div class="cell">
            {{flexberry-checkbox
              readonly=(or readonly (not record.rowConfig.canBeSelected))
              onChange=(action selectRow record)
            }}
          </div>
        {{/if}}
        {{#if showDeleteButtonInRow}}
          <div class="cell">
            <button class="ui {{buttonClass}} {{if (or readonly (not record.rowConfig.canBeDeleted)) "disabled"}} button" {{action deleteRow record}}>
              <i class="minus icon"></i>
            </button>
          </div>
        {{/if}}
      </div>
    {{/if}}
  </td>
  {{#each columns as |column index|}}
    <td {{action rowClick record preventDefault=false}}>
      {{#if (and (not index) inHierarchicalMode)}}
        {{hierarchicalIndent}}
        {{#if hasRecords}}
          <button class="ui button icon mini {{buttonClass}}" {{action "expand" bubbles=false}}>
            <i class="{{if _expanded "minus" "plus"}} icon"></i>
          </button>
        {{/if}}
      {{/if}}
      {{#if column.cellComponent.componentName}}
        {{component column.cellComponent.componentName
          dynamicProperties=column.cellComponent.componentProperties
          relatedModel=record.data
          value=(mut (get record.data column.propName))
          readonly=readonly
          required=required
        }}
      {{else}}
        <div class="oveflow-text">
          {{get-formatted record.data column.propName
            dateFormat=dateFormat
            moment=moment
          }}
        </div>
      {{/if}}
    </td>
  {{/each}}
  {{#if showMenuColumn}}
    <td class="object-list-view-menu">
      {{flexberry-menu
        class="basic right pointing"
        callItemsOnClickCallbacks=false
        configurateItems=(action menuInRowConfigurateItems record)
        onItemClick=(action menuInRowItemClick record)
      }}
    </td>
  {{/if}}
</tr>
{{#if (and _expanded inHierarchicalMode)}}
  {{#each records key="key" as |record|}}
    {{object-list-view-row
      record=record
      columns=columns
      readonly=readonly
      required=required
      showMenuColumn=showMenuColumn
      showHelperColumn=showHelperColumn
      defaultRowConfig=defaultRowConfig
      showAsteriskInRow=showAsteriskInRow
      showCheckBoxInRow=showCheckBoxInRow
      showDeleteButtonInRow=showDeleteButtonInRow
      inHierarchicalMode=inHierarchicalMode
      loadRecords=loadRecords
      rowClick=rowClick
      selectRow=selectRow
      deleteRow=deleteRow
      menuInRowItemClick=menuInRowItemClick
      menuInRowConfigurateItems=menuInRowConfigurateItems
      _currentLevel=_currentLevel
      hierarchicalIndent=_hierarchicalIndent
    }}
  {{/each}}
{{/if}}
