{{#if doRenderData}}
  <tr class="{{record.rowConfig.customClass}}">
    <td class="object-list-view-helper-column {{unless showHelperColumn "hidden"}}">
      <div class="hidden">{{record.key}}</div>
      {{#if showHelperColumn}}
        <div class="object-list-view-helper-column-cell">
          {{#if showAsteriskInRow}}
            <div class="cell">
              <i class="asterisk small red icon {{unless record.data.hasDirtyAttributes "transparent"}}"></i>
            </div>
          {{/if}}
          {{#if showCheckBoxInRow}}
            <div class="cell">
              {{flexberry-checkbox
                readonly=(or readonly (not record.rowConfig.canBeSelected))
                onChange=(action selectRow record)
              }}
            </div>
          {{/if}}
          {{#if showDeleteButtonInRow}}
            <div class="cell">
              <button class="ui {{buttonClass}} {{if (or readonly (not record.rowConfig.canBeDeleted)) "disabled"}} button" {{action deleteRow record}}>
                <i class="minus icon"></i>
              </button>
            </div>
          {{/if}}
        </div>
      {{/if}}
    </td>
    {{#each columns as |column index|}}
      <td {{action rowClick record preventDefault=false}}>
        {{#if column.cellComponent.componentName}}
          {{#if inHierarchicalMode}}
            {{#component column.cellComponent.componentName
              dynamicProperties=column.cellComponent.componentProperties
              relatedModel=record.data
              value=(mut (get record.data column.propName))
              readonly=readonly
              required=required
            }}
              {{#if (and (not index) inHierarchicalMode)}}
                {{hierarchicalIndent}}
                {{#if hasRecords}}
                  <button class="ui button icon mini compact {{buttonClass}}" {{action "expand" bubbles=false}}>
                    <i class="{{if _expanded "minus" "plus"}} icon"></i>
                  </button>
                {{/if}}
              {{/if}}
            {{/component}}
          {{else}}
            {{component column.cellComponent.componentName
              dynamicProperties=column.cellComponent.componentProperties
              relatedModel=record.data
              value=(mut (get record.data column.propName))
              readonly=readonly
              required=required
            }}
          {{/if}}
        {{else}}
          <div class="oveflow-text">
            {{#if (and (not index) inHierarchicalMode)}}
              {{hierarchicalIndent}}
              {{#if hasRecords}}
                <button class="ui button icon mini compact {{buttonClass}}" {{action "expand" bubbles=false}}>
                  <i class="{{if _expanded "minus" "plus"}} icon"></i>
                </button>
              {{/if}}
            {{/if}}
            {{get-formatted record.data column.propName
              dateFormat=dateFormat
              moment=moment
            }}
          </div>
        {{/if}}
      </td>
    {{/each}}
    {{#if showMenuColumn}}
      <td class="object-list-view-menu">
        <div class="basic right pointing ui icon dropdown button">
          <i class="list layout icon"></i>
          <div class="left menu">
            {{#if record.rowConfig.canBeSelected}}
              <div class="item" {{ action rowClick record }}>
                <i class="edit icon"></i>
                <span>{{t "components.object-list-view.menu-in-row.edit-menu-item-title"}}</span>
              </div>
            {{/if}}
            {{#if record.rowConfig.canBeDeleted}}
              <div class="item" {{ action deleteRow record }}>
                <i class="trash icon"></i>
                <span>{{t "components.object-list-view.menu-in-row.delete-menu-item-title"}}</span>
              </div>
            {{/if}}
          </div>
        </div>
      </td>
    {{/if}}
  </tr>
  {{#if (and _expanded inHierarchicalMode)}}
    {{#each records key="key" as |record|}}
      {{object-list-view-row
        record=record
        columns=columns
        readonly=readonly
        required=required
        showMenuColumn=showMenuColumn
        showHelperColumn=showHelperColumn
        defaultRowConfig=defaultRowConfig
        showAsteriskInRow=showAsteriskInRow
        showCheckBoxInRow=showCheckBoxInRow
        showDeleteButtonInRow=showDeleteButtonInRow
        inHierarchicalMode=inHierarchicalMode
        loadRecords=loadRecords
        doRenderData=record.doRenderData
        rowClick=rowClick
        selectRow=selectRow
        deleteRow=deleteRow
        _currentLevel=_currentLevel
        hierarchicalIndent=_hierarchicalIndent
      }}
    {{/each}}
  {{/if}}
{{/if}}
