{{#if errorMessages}}
  {{#each errorMessages as |currentError|}}
    {{ui-message
      type='error'
      closeable=true
      visible=true
      title='Error occurred'
      message=currentError
    }}
  {{/each}}
{{/if}}
<table class="object-list-view ui unstackable celled {{if readonly 'readonly'}} {{tableClass}} table">
  <thead>
    <tr>
      <th class="object-list-view-operations collapsing {{unless (and showHelperColumn (or hasContent filters)) 'hidden'}}" data-olv-header-property-name="OlvRowToolbar"></th>
        {{#each columns as |column|}}
          {{component headerCellComponent.componentName
            column=column
            dynamicProperties=headerCellComponent.componentProperties
          }}
        {{/each}}
      {{#if showMenuColumn}}
        <th class="object-list-view-menu collapsing" data-olv-header-property-name="OlvRowMenu"></th>
      {{/if}}
    </tr>
  </thead>
  <tbody>
    {{#if showFilters}}
      <tr>
        <td rowspan="2" class="{{unless (and showHelperColumn (or hasContent filters)) 'hidden'}}">
          {{#if filters}}
            <button class="ui icon button" {{action resetFilters}}>
              <i class="remove icon"></i>
            </button>
          {{/if}}
        </td>
        {{#each columns as |column|}}
          <td>
            {{#if column.filter.conditions}}
              {{component "flexberry-dropdown"
                value=column.filter.condition
                items=column.filter.conditions
                class="compact fluid"
                placeholder=""
                needChecksOnValue=false
              }}
            {{/if}}
          </td>
        {{/each}}
        {{#if showMenuColumn}}
          <td rowspan="2"></td>
        {{/if}}
      </tr>
      <tr>
        {{#each columns as |column|}}
          <td>
            {{#if column.filter.component.name}}
              {{component column.filter.component.name
                value=column.filter.pattern
                dynamicProperties=column.filter.component.properties
              }}
            {{/if}}
          </td>
        {{/each}}
      </tr>
    {{/if}}
    {{#unless hasContent}}
      <tr>
        <td colspan="{{colspan}}" style="text-align:center;">{{placeholder}}</td>
      </tr>
    {{/unless}}
    {{#each contentWithKeys key="key" as |record|}}
      <tr class="{{record.config.customClass}}">
        <td class="object-list-view-helper-column {{unless showHelperColumn 'hidden'}}">
          <div class="hidden">{{record.key}}</div>
          {{#if showHelperColumn}}
            <div class="object-list-view-helper-column-cell">
              {{#if showAsteriskInRow}}
                <div class="cell">
                  <i class="asterisk small red icon {{unless record.data.hasDirtyAttributes 'transparent'}}"></i>
                </div>
              {{/if}}
              {{#if showCheckBoxInRow}}
                <div class="cell">
                  {{flexberry-checkbox
                    readonly=(or readonly (not record.config.canBeSelected))
                    onChange=(action 'selectRow' record)
                  }}
                </div>
              {{/if}}
              {{#if showDeleteButtonInRow}}
                <div class="cell">
                  <button class="ui {{buttonClass}} {{if (or readonly (not record.config.canBeDeleted)) 'disabled'}} button" {{action 'deleteRow' record}}>
                    <i class="minus icon"></i>
                  </button>
                </div>
              {{/if}}
            </div>
          {{/if}}
        </td>
        {{#each columns as |column|}}
          <td {{action 'rowClick' record preventDefault=false}}>
            {{component column.cellComponent.componentName
              dynamicProperties=column.cellComponent.componentProperties
              relatedModel=record.data
              value=(mut (get record.data column.propName))
              readonly=readonly
              required=required
            }}
          </td>
        {{/each}}
        {{#if showMenuColumn}}
          <td class="object-list-view-menu">
            {{flexberry-menu
              class='basic right pointing'
              callItemsOnClickCallbacks=false
              configurateItems=(action 'menuInRowConfigurateItems' record)
              onItemClick=(action 'menuInRowItemClick' record)
            }}
          </td>
        {{/if}}
      </tr>
    {{/each}}
  </tbody>
</table>
